<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sennheiser Chargers Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flexboxgrid/6.3.1/flexboxgrid.min.css" type="text/css" >
</head>
<body>
    <!-- Charger 1 with Channel 1 and Channel 2 -->
<div class="row">
    <div class="charger" id="charger1">
        <div id="R1_channel1" class="microphone col">
            <h3>Receiver 1 Channel 1</h3>
            <p>Name: <span id="R1_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R1_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R1_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R1_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R1_channel1_battery">N/A</span></p>
        </div>
        <div id="R1_channel2" class="microphone col">
            <h3>Receiver 1 Channel 2</h3>
            <p>Name: <span id="R1_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R1_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R1_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R1_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R1_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 2 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger2">
        <div id="R2_channel1" class="microphone col">
            <h3>Receiver 2 Channel 1</h3>
            <p>Name: <span id="R2_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R2_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R2_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R2_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R2_channel1_battery">N/A</span></p>
        </div>
        <div id="R2_channel2" class="microphone col">
            <h3>Receiver 2 Channel 2</h3>
            <p>Name: <span id="R2_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R2_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R2_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R2_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R2_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 3 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger3">
        <div id="R3_channel1" class="microphone col">
            <h3>Receiver 3 Channel 1</h3>
            <p>Name: <span id="R3_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R3_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R3_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R3_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R3_channel1_battery">N/A</span></p>
        </div>
        <div id="R3_channel2" class="microphone col">
            <h3>Receiver 3 Channel 2</h3>
            <p>Name: <span id="R3_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R3_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R3_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R3_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R3_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 4 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger4">
        <div id="R4_channel1" class="microphone col">
            <h3>Receiver 4 Channel 1</h3>
            <p>Name: <span id="R4_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R4_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R4_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R4_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R4_channel1_battery">N/A</span></p>
        </div>
        <div id="R4_channel2" class="microphone col">
            <h3>Receiver 4 Channel 2</h3>
            <p>Name: <span id="R4_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R4_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R4_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R4_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R4_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 5 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger5">
        <div id="R5_channel1" class="microphone col">
            <h3>Receiver 5 Channel 1</h3>
            <p>Name: <span id="R5_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R5_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R5_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R5_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R5_channel1_battery">N/A</span></p>
        </div>
        <div id="R5_channel2" class="microphone col">
            <h3>Receiver 5 Channel 2</h3>
            <p>Name: <span id="R5_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R5_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R5_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R5_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R5_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 6 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger6">
        <div id="R6_channel1" class="microphone col">
            <h3>Receiver 6 Channel 1</h3>
            <p>Name: <span id="R6_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R6_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R6_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R6_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R6_channel1_battery">N/A</span></p>
        </div>
        <div id="R6_channel2" class="microphone col">
            <h3>Receiver 6 Channel 2</h3>
            <p>Name: <span id="R6_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R6_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R6_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R6_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R6_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 7 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger7">
        <div id="R7_channel1" class="microphone col">
            <h3>Receiver 7 Channel 1</h3>
            <p>Name: <span id="R7_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R7_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R7_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R7_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R7_channel1_battery">N/A</span></p>
        </div>
        <div id="R7_channel2" class="microphone col">
            <h3>Receiver 7 Channel 2</h3>
            <p>Name: <span id="R7_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R7_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R7_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R7_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R7_channel2_battery">N/A</span></p>
        </div>
    </div>
    <!-- Charger 8 with Channel 1 and Channel 2 -->
    <div class="charger" id="charger8">
        <div id="R8_channel1" class="microphone col">
            <h3>Receiver 8 Channel 1</h3>
            <p>Name: <span id="R8_channel1_name">N/A</span></p>
            <p>Frequency: <span id="R8_channel1_frequency">N/A</span></p>
            <p>Gain: <span id="R8_channel1_gain">N/A</span></p>
            <p>Mute State: <span id="R8_channel1_mute">N/A</span></p>
            <p>Battery: <span id="R8_channel1_battery">N/A</span></p>
        </div>
        <div id="R8_channel2" class="microphone col">
            <h3>Receiver 8 Channel 2</h3>
            <p>Name: <span id="R8_channel2_name">N/A</span></p>
            <p>Frequency: <span id="R8_channel2_frequency">N/A</span></p>
            <p>Gain: <span id="R8_channel2_gain">N/A</span></p>
            <p>Mute State: <span id="R8_channel2_mute">N/A</span></p>
            <p>Battery: <span id="R8_channel2_battery">N/A</span></p>
        </div>
    </div>
</div>

    <script>
        // Replace 'localhost' with your server's IP if accessing from another device
        const socket = new WebSocket('ws://localhost:3000');
    
        socket.onopen = () => {
            console.log('WebSocket connection opened');
        };
    
        socket.onmessage = (event) => {
            const data = JSON.parse(event.data);
    
            // Iterate through each receiver in the data and update UI accordingly
            Object.keys(data).forEach(receiverKey => {
                const receiver = data[receiverKey];
    
                // Update Channel 1 data
                if (receiver.channel1) {
                    document.getElementById(`${receiverKey}_channel1_name`).innerText = receiver.channel1.name || 'N/A';
                    document.getElementById(`${receiverKey}_channel1_frequency`).innerText = receiver.channel1.frequency || 'N/A';
                    document.getElementById(`${receiverKey}_channel1_gain`).innerText = receiver.channel1.gain || 'N/A';
                    document.getElementById(`${receiverKey}_channel1_mute`).innerText = receiver.channel1.mute || 'N/A';
                    document.getElementById(`${receiverKey}_channel1_battery`).innerText = receiver.channel1.battery || 'N/A';
                }
    
                // Update Channel 2 data
                if (receiver.channel2) {
                    document.getElementById(`${receiverKey}_channel2_name`).innerText = receiver.channel2.name || 'N/A';
                    document.getElementById(`${receiverKey}_channel2_frequency`).innerText = receiver.channel2.frequency || 'N/A';
                    document.getElementById(`${receiverKey}_channel2_gain`).innerText = receiver.channel2.gain || 'N/A';
                    document.getElementById(`${receiverKey}_channel2_mute`).innerText = receiver.channel2.mute || 'N/A';
                    document.getElementById(`${receiverKey}_channel2_battery`).innerText = receiver.channel2.battery || 'N/A';
                }
            });
        };
    
        socket.onclose = () => {
            console.log('WebSocket connection closed');
        };
    </script>
       </body>
</html>
